<table class="table calendar">
  <thead>
    <tr>
      <th>Sunday</th>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
  </thead>
  <tbody>
    <% (Date.today.beginning_of_month.beginning_of_week - 1..Date.today.end_of_month.end_of_week - 1).to_a.in_groups_of(7) do |group| %>
        <tr>
        <% group.map do |day| %>
          <% classname = day.month == Date.today.month ? "" : "inactive" %>
          <td class="<%= classname %>">
            <div>
              <% if day.day == Date.today.day %>
                <div class="selected"><%= day.day %></div>
              <% else %>
                <%= day.day %>
              <% end %>
            </div>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
